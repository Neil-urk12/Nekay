import{d as k,r as o,h as y,i as b,j as I,k as H,c as i,a as e,t as s,l as R,m as T,T as A,p as M,o as c,F as j,q as g,n as C}from"./app-K6xtmCpT.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";const S="/assets/melodysticker.gif",F="/assets/cloud.png",q={class:"melody-header"},N={class:"message-container"},P={class:"message-box animate-fade-in"},W={key:0,class:"weather animate-fade-in"},V={class:"current-weather"},z=["src","alt"],D={class:"weather-details"},K={class:"forecast"},U={class:"flex justify-between"},B={class:"text-red-500"},Q={class:"text-blue-500"},G={class:"air-quality"},O={class:"text-sm"},Y={key:1,class:"text-red-500"},$={key:1,class:"weather-loading"},J=18e5,X=6e4,Z=k({__name:"Home",setup(ee){const h="http://api.weatherapi.com/v1/forecast.json?key=f8303cb3a0c1425cae2180137240911&q=Liloan,Cebu&days=1&aqi=yes&alerts=yes",n=o("morning"),l=o(""),r=o({temp_c:0,condition:{text:"",icon:""}}),m=o({maxtemp_c:0,mintemp_c:0}),d=o({pm2_5:0,pm10:0}),v=o(!0),x=o(!1),u=o(""),w=y(()=>({morning:"Rise and shine! Have a wonderful morning! ",noon:"Hope you're having a great lunch! ",afternoon:"Keep going strong this afternoon! ",evening:"Winding down for a peaceful evening! ",night:"Sweet dreams ahead! "})[n.value]||"Have a great day!"),p=y(()=>{const t=d.value.pm2_5;return t<=12?{text:"Good",color:"text-green-500"}:t<=35.4?{text:"Moderate",color:"text-yellow-500"}:t<=55.4?{text:"Unhealthy for Sensitive Groups",color:"text-orange-500"}:{text:"Unhealthy",color:"text-red-500"}}),f=()=>{const t=new Date().getHours();t>=5&&t<12?(n.value="morning",l.value="url(/assets/bgsky.jpg)"):t>=12&&t<13?(n.value="noon",l.value="url(/assets/bgsky.jpg)"):t>=13&&t<15?(n.value="afternoon",l.value="url(/assets/background.jpg)"):t>=16&&t<17?(n.value="evening",l.value="url(/assets/sunsetbg.jpg)"):(n.value="night",l.value="url(/assets/moonbg.gif)")},_=async()=>{try{const t=await fetch(h);if(!t.ok)throw new Error("Weather API request failed");const a=await t.json();r.value=a.current,m.value=a.forecast.forecastday[0].day,d.value=a.current.air_quality,u.value=""}catch{u.value="Unable to fetch weather data"}finally{v.value=!1}},E=t=>{x.value=!0;const a=t.target;a.src="/assets/melodysticker.gif"};return b(()=>{const t=setInterval(_,J);return()=>clearInterval(t)}),I(()=>{H().initialise(),setInterval(f,X),f(),_()}),(t,a)=>(c(),i("div",{class:"home-container",style:M({backgroundImage:l.value})},[e("div",q,[e("img",{class:"homeMelody animate-bounce",src:S,alt:"My Melody",loading:"eager",onError:E},null,32)]),e("div",N,[e("div",P,[a[0]||(a[0]=e("div",{class:"cloud-icon animate-float"},[e("img",{src:F,alt:"Cloud",loading:"lazy"})],-1)),a[1]||(a[1]=e("p",{class:"greeting"},"Hi Kaykayy! ",-1)),e("p",null,s(w.value),1)]),R(A,{name:"fade"},{default:T(()=>[v.value?(c(),i("div",$,a[6]||(a[6]=[e("div",{class:"loading-spinner"},null,-1),e("p",null,"Loading weather data...",-1)]))):(c(),i("div",W,[u.value?(c(),i("p",Y,s(u.value),1)):(c(),i(j,{key:0},[e("h3",V,[e("img",{src:r.value.condition.icon,alt:r.value.condition.text,class:"inline-block w-8 h-8 mr-2",loading:"lazy"},null,8,z),g(" "+s(r.value.condition.text)+" • "+s(r.value.temp_c)+"°C ",1)]),e("div",D,[e("div",K,[a[4]||(a[4]=e("p",{class:"text-lg font-semibold"},"Today's Forecast",-1)),e("div",U,[e("p",null,[a[2]||(a[2]=g("High: ")),e("span",B,s(m.value.maxtemp_c)+"°C",1)]),e("p",null,[a[3]||(a[3]=g("Low: ")),e("span",Q,s(m.value.mintemp_c)+"°C",1)])])]),e("div",G,[a[5]||(a[5]=e("p",{class:"text-lg font-semibold"},"Air Quality",-1)),e("p",{class:C(p.value.color)},s(p.value.text),3),e("div",O,[e("p",null,"PM2.5: "+s(d.value.pm2_5.toFixed(1)),1),e("p",null,"PM10: "+s(d.value.pm10.toFixed(1)),1)])])])],64))]))]),_:1})])],4))}}),oe=L(Z,[["__scopeId","data-v-a927cf6e"]]);export{oe as default};
