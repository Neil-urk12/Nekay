import{d as L,j as R,s as W,r as n,q as G,i as J,c as a,a as t,m as $,n as h,F as I,x as j,p as E,f as g,v as y,y as C,k as P,o,t as K,g as d,e as S}from"./app-W5jICeaV.js";import{_ as Q}from"./_plugin-vue_export-helper-DlAUqK2U.js";const X="/assets/melody-Bq4hxoWp.gif",Y={class:"content-card"},Z={class:"folders-section"},ee={class:"folder-list"},te=["data-folder-id","onClick"],le=["onClick"],se={key:1,class:"folder-edit-buttons"},ae=["onClick"],oe={class:"add-folder"},ne={class:"tasks-section"},ie={class:"add-task"},ue={class:"task-list"},de={class:"task-label"},ce=["checked","onChange"],ve={class:"icon-buttons"},re=["onClick"],ke=["onClick"],fe=L({__name:"Tasks",setup(pe){const c=R(),{tasks:T,folders:F}=W(c),m=n(""),b=n(""),r=n(null),p=n(""),_=n(""),i=n(null),v=n(null),k=n(""),f=n(""),U=n(null),B=n(!1),w=()=>{const s=new Date().getHours();s>=5&&s<12?(_.value="morning",p.value="url(/public/assets/bgsky.jpg)"):s>=12&&s<13?(_.value="noon",p.value="url(/public/assets/sunsetbg.jpg)"):s>=13&&s<17?(_.value="afternoon",p.value="url(/public/assets/bgsky.jpg)"):s>=17&&s<21?(_.value="evening",p.value="url(/public/assets/sunsetbg.jpg)"):(_.value="night",p.value="url(/public/assets/moonbg.gif)")},x=(s,l,e)=>{U.value={id:s,type:l,name:e},B.value=!0},D=()=>{m.value.trim()&&(c.addTask(m.value,r.value),m.value="")},N=()=>{b.value.trim()&&(c.addFolder(b.value,"task"),b.value="")},A=s=>{const l=T.value.find(e=>e.id===s);l&&(i.value=s,k.value=l.title)},M=()=>{i.value&&k.value.trim()&&(c.editTask(i.value,k.value),i.value=null,k.value="")},q=()=>{i.value=null,k.value=""},z=s=>{const l=F.value.find(e=>e.id===s);l&&(v.value=s,f.value=l.name)},V=()=>{v.value&&f.value.trim()&&(c.editFolder(v.value,f.value),v.value=null,f.value="")},O=()=>{v.value=null,f.value=""},H=G(()=>r.value?T.value.filter(s=>s.folderId===r.value):T.value);return J(()=>{setInterval(w,6e4),w(),c.fetchTasks(),c.fetchFolders()}),(s,l)=>(o(),a("div",{class:"tasks-container",style:P({backgroundImage:p.value})},[t("div",Y,[l[6]||(l[6]=t("h1",{class:"page-title"},[t("img",{src:X,alt:"My Melody"}),$(" My Tasks ")],-1)),t("div",Z,[l[5]||(l[5]=t("h2",null,"Folders",-1)),t("div",ee,[t("button",{class:h(["folder-item",{active:!r.value}]),onClick:l[0]||(l[0]=e=>r.value=null)}," All Tasks ",2),(o(!0),a(I,null,j(E(F).filter(e=>e.type==="task"),e=>(o(),a("button",{key:e.id,"data-folder-id":e.id,class:h(["folder-item",{active:r.value===e.id}]),onClick:u=>r.value=e.id},[$(K(e.name)+" ",1),v.value?d("v-if",!0):(o(),a("button",{key:0,class:"edit-button",onClick:u=>z(e.id)}," ✏️ ",8,le)),d(" Update the folder edit buttons section "),v.value===e.id?(o(),a("div",se,[g(t("input",{"onUpdate:modelValue":l[1]||(l[1]=u=>f.value=u),onKeyup:C(V,["enter"])},null,544),[[y,f.value]]),t("div",{class:"stacked-buttons"},[t("button",{onClick:V}," Save "),t("button",{onClick:O}," Cancel ")])])):d("v-if",!0),v.value?d("v-if",!0):(o(),a("button",{key:2,class:"delete-button",onClick:S(u=>x(e.id,"folder",e.name),["stop"])}," ❌ ",8,ae))],10,te))),128))]),t("div",oe,[g(t("input",{"onUpdate:modelValue":l[2]||(l[2]=e=>b.value=e),placeholder:"New folder name",onKeyup:C(N,["enter"])},null,544),[[y,b.value]]),t("button",{onClick:N},"Add Folder")])]),t("div",ne,[t("div",ie,[g(t("input",{"onUpdate:modelValue":l[3]||(l[3]=e=>m.value=e),placeholder:"New task",onKeyup:C(D,["enter"])},null,544),[[y,m.value]]),t("button",{onClick:D},"Add Task")]),t("div",ue,[(o(!0),a(I,null,j(H.value,e=>(o(),a("div",{key:e.id,class:"task-item"},[t("label",de,[t("input",{type:"checkbox",checked:e.completed,onChange:u=>E(c).toggleTask(e.id)},null,40,ce),t("span",{class:h({completed:e.completed})},K(e.title),3)]),t("div",ve,[i.value?d("v-if",!0):(o(),a("button",{key:0,class:"edit-button",onClick:u=>A(e.id)}," ✏️ ",8,re)),i.value===e.id?g((o(),a("input",{key:1,"onUpdate:modelValue":l[4]||(l[4]=u=>k.value=u),onKeyup:C(M,["enter"])},null,544)),[[y,k.value]]):d("v-if",!0),i.value===e.id?(o(),a("button",{key:2,onClick:M}," Save ")):d("v-if",!0),i.value===e.id?(o(),a("button",{key:3,onClick:q}," Cancel ")):d("v-if",!0),i.value?d("v-if",!0):(o(),a("button",{key:4,class:"delete-button",onClick:S(u=>x(e.id,"task",e.title),["stop"])}," ❌ ",8,ke))])]))),128))])])])],4))}}),_e=Q(fe,[["__scopeId","data-v-a13b829c"]]);export{_e as default};
