import{d as J,k as V,y as L,r as d,h as M,j as S,c as s,a as e,g,q as B,n as E,F as h,C as w,A as m,f,v as _,B as T,t as p,o as l}from"./app-K6xtmCpT.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";const A="/assets/melody2-C01HWavO.gif",I={class:"journal-container"},K={key:0,class:"popup"},z={class:"modal-content"},H={class:"content-card"},W={class:"folders-section"},q={class:"folder-list"},O=["onClick"],R={class:"add-folder"},G={class:"journal-section"},P={key:0,class:"new-entry-form"},Q={class:"entries-list"},X={key:0},Y={key:1},Z={class:"entry-header"},ee={class:"entry-date"},te={class:"entry-content"},ne=["onClick"],se=J({__name:"Journal",setup(le){const r=V(),{journalEntries:k,folders:b,loading:j,error:x}=L(r),u=d(""),v=d(""),c=d(""),o=d(null),y=d(!1),a=d(!1),F=()=>{u.value.trim()&&v.value.trim()&&(r.addJournalEntry(u.value,v.value,o.value),u.value="",v.value="",y.value=!1)},C=()=>{c.value.trim()&&(r.addFolder(c.value,"journal"),c.value="")},N=M(()=>o.value?k.value.filter(i=>i.folderId===o.value):k.value),$=i=>new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return S(async()=>{try{await r.fetchJournalEntries(),await r.fetchFolders()}catch(i){console.error("Error fetching data:",i)}}),(i,t)=>(l(),s("div",I,[a.value?(l(),s("div",K,[e("div",z,[e("span",{onClick:t[0]||(t[0]=n=>a.value=!a.value),class:"close"},"Ã—"),t[8]||(t[8]=e("p",null,"ksjdfkjsdfjsdlfjsdkl",-1))])])):g("v-if",!0),e("div",H,[e("h1",{class:"page-title",onClick:t[2]||(t[2]=n=>a.value=!a.value)},[e("button",{class:"displayLetter",onClick:t[1]||(t[1]=n=>a.value=!a.value),style:{width:"5px",height:"5px"}},"K"),t[9]||(t[9]=e("img",{src:A,alt:"My Melody",loading:"lazy"},null,-1)),t[10]||(t[10]=B(" My Journal "))]),e("div",W,[t[11]||(t[11]=e("h2",null,"Categories",-1)),e("div",q,[e("button",{class:E(["folder-item",{active:!o.value}]),onClick:t[3]||(t[3]=n=>o.value=null)}," All Entries ",2),(l(!0),s(h,null,w(m(b).filter(n=>n.type==="journal"),n=>(l(),s("button",{key:n.id??"",class:E(["folder-item",{active:o.value===n.id}]),onClick:D=>o.value=n.id??null},p(n.name),11,O))),128))]),e("div",R,[f(e("input",{"onUpdate:modelValue":t[4]||(t[4]=n=>c.value=n),placeholder:"New category name",onKeyup:T(C,["enter"])},null,544),[[_,c.value]]),e("button",{onClick:C},"Add Category")])]),e("div",G,[e("button",{class:"new-entry-button",onClick:t[5]||(t[5]=n=>y.value=!y.value)},p(y.value?"Cancel":"New Entry"),1),y.value?(l(),s("div",P,[f(e("input",{"onUpdate:modelValue":t[6]||(t[6]=n=>u.value=n),placeholder:"Entry title",class:"entry-title-input"},null,512),[[_,u.value]]),f(e("textarea",{"onUpdate:modelValue":t[7]||(t[7]=n=>v.value=n),placeholder:"Write your thoughts...",class:"entry-content-input"},null,512),[[_,v.value]]),e("button",{onClick:F,class:"save-button"},"Save Entry")])):g("v-if",!0),e("div",Q,[m(j)?(l(),s("div",X,"Loading...")):m(x)?(l(),s("div",Y,"Error loading entries.")):(l(!0),s(h,{key:2},w(N.value,n=>(l(),s("div",{key:n.id,class:"entry-item"},[e("div",Z,[e("h3",null,p(n.title),1),e("span",ee,p($(n.date)),1)]),e("p",te,p(n.content),1),e("button",{class:"delete-button",onClick:D=>n.id&&m(r).deleteJournalEntry(n.id)}," Delete ",8,ne)]))),128))])])])]))}}),re=U(se,[["__scopeId","data-v-a94edadc"]]);export{re as default};
