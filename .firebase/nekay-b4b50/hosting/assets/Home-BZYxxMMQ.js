import{d as b,r as o,h,i as k,j as I,k as H,c as i,a as e,t as a,l as R,m as T,T as A,p as C,o as c,F as M,q as g,n as j}from"./app-DJtXMlp-.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";const S="/assets/melodysticker-Cz7JyxN9.gif",F="/assets/cloud.png",N={class:"melody-header"},q={class:"message-container"},P={class:"message-box animate-fade-in"},W={key:0,class:"weather animate-fade-in"},z={class:"current-weather"},V=["src","alt"],D={class:"weather-details"},K={class:"forecast"},U={class:"flex justify-between"},B={class:"text-red-500"},Q={class:"text-blue-500"},G={class:"air-quality"},O={class:"text-sm"},Y={key:1,class:"text-red-500"},J={key:1,class:"weather-loading"},$=18e5,X=6e4,Z=b({__name:"Home",setup(ee){const y="http://api.weatherapi.com/v1/forecast.json?key=f8303cb3a0c1425cae2180137240911&q=Liloan,Cebu&days=1&aqi=yes&alerts=yes",n=o("morning"),r=o(""),l=o({temp_c:0,condition:{text:"",icon:""}}),m=o({maxtemp_c:0,mintemp_c:0}),d=o({pm2_5:0,pm10:0}),v=o(!0),x=o(!1),u=o(""),w=h(()=>({morning:"Rise and shine! Have a wonderful morning! ",noon:"Hope you're having a great lunch! ",afternoon:"Keep going strong this afternoon! ",evening:"Winding down for a peaceful evening! ",night:"Sweet dreams ahead! "})[n.value]||"Have a great day!"),p=h(()=>{const t=d.value.pm2_5;return t<=12?{text:"Good",color:"text-green-500"}:t<=35.4?{text:"Moderate",color:"text-yellow-500"}:t<=55.4?{text:"Unhealthy for Sensitive Groups",color:"text-orange-500"}:{text:"Unhealthy",color:"text-red-500"}}),f=()=>{const t=new Date().getHours();console.log(t),t>=5&&t<12?(n.value="morning",r.value="url(src/assets/bgsky.jpg)"):t>=12&&t<13?(n.value="noon",r.value="url(src/assets/bgsky.jpg)"):t>=13&&t<15?(n.value="afternoon",r.value="url(src/assets/background.jpg)"):t>=16&&t<17?(n.value="evening",r.value="url(src/assets/sunsetbg.jpg)"):(n.value="night",r.value="url(src/assets/moonbg.gif)")},_=async()=>{try{const t=await fetch(y);if(!t.ok)throw new Error("Weather API request failed");const s=await t.json();l.value=s.current,m.value=s.forecast.forecastday[0].day,d.value=s.current.air_quality,u.value=""}catch(t){u.value="Unable to fetch weather data",console.error("Error fetching weather:",t)}finally{v.value=!1}},E=t=>{x.value=!0;const s=t.target;s.src="/src/assets/melodysticker.gif"};return k(()=>{const t=setInterval(_,$);return()=>clearInterval(t)}),I(()=>{H().initialise(),setInterval(f,X),f(),_()}),(t,s)=>(c(),i("div",{class:"home-container",style:C({backgroundImage:r.value})},[e("div",N,[e("img",{class:"homeMelody animate-bounce",src:S,alt:"My Melody",loading:"eager",onError:E},null,32)]),e("div",q,[e("div",P,[s[0]||(s[0]=e("div",{class:"cloud-icon animate-float"},[e("img",{src:F,alt:"Cloud",loading:"lazy"})],-1)),s[1]||(s[1]=e("p",{class:"greeting"},"Hi Kaykayy! ",-1)),e("p",null,a(w.value),1)]),R(A,{name:"fade"},{default:T(()=>[v.value?(c(),i("div",J,s[6]||(s[6]=[e("div",{class:"loading-spinner"},null,-1),e("p",null,"Loading weather data...",-1)]))):(c(),i("div",W,[u.value?(c(),i("p",Y,a(u.value),1)):(c(),i(M,{key:0},[e("h3",z,[e("img",{src:l.value.condition.icon,alt:l.value.condition.text,class:"inline-block w-8 h-8 mr-2",loading:"lazy"},null,8,V),g(" "+a(l.value.condition.text)+" • "+a(l.value.temp_c)+"°C ",1)]),e("div",D,[e("div",K,[s[4]||(s[4]=e("p",{class:"text-lg font-semibold"},"Today's Forecast",-1)),e("div",U,[e("p",null,[s[2]||(s[2]=g("High: ")),e("span",B,a(m.value.maxtemp_c)+"°C",1)]),e("p",null,[s[3]||(s[3]=g("Low: ")),e("span",Q,a(m.value.mintemp_c)+"°C",1)])])]),e("div",G,[s[5]||(s[5]=e("p",{class:"text-lg font-semibold"},"Air Quality",-1)),e("p",{class:j(p.value.color)},a(p.value.text),3),e("div",O,[e("p",null,"PM2.5: "+a(d.value.pm2_5.toFixed(1)),1),e("p",null,"PM10: "+a(d.value.pm10.toFixed(1)),1)])])])],64))]))]),_:1})])],4))}}),oe=L(Z,[["__scopeId","data-v-4169ad4b"]]);export{oe as default};
